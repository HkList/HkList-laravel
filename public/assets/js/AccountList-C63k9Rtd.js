import{d as ce}from"./base-D_zbSILa.js";import{v as de}from"./el-loading-ByNmPrWo.js";import{E as pe}from"./el-input-CnT3n_X-.js";import{i as ge}from"./el-popper-DbXAmeiq.js";import{E as fe,a as ve}from"./el-select-gXYkUPkw.js";import{E as be,a as me}from"./el-table-column-ith8tmxL.js";import{E as Ce}from"./el-button-DbmDJXiX.js";import{k as _e,l as he,m as Pe}from"./admin-D3EntKcU.js";import{u as ye}from"./AccountManagement-Cd_z9VMT.js";import{a as N,g as $,e as v,c as S,z as j,R as I,w,a5 as ne,u as a,E as ze,r as B,G as Q,b as m,F as Y,an as ie,n as T,p as ee,T as Se,i as G,af as ke,I as we,K as Ne,aa as F,k as xe,o as Ee,q as D,P as $e}from"./index-DW4GyZFB.js";import{b as V,t as X,D as W,f as le,_ as J,d as se,m as oe,v as re,u as R,a0 as Ae,a1 as ae,a2 as Te,n as K,g as Me,h as Be,w as Ie,E as H}from"./request-Ckf9C3Wk.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-BFFxkoHB.js";import"./_initCloneObject-DNAtcZvN.js";import"./focus-trap-BR6sfOYh.js";import"./strings-Bwax4eHl.js";import"./scroll-DOTZrInm.js";const ue=Symbol("elPaginationKey"),qe=V({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:X}}),De={click:e=>e instanceof MouseEvent},Ke=["disabled","aria-label","aria-disabled"],je={key:0},Fe=N({name:"ElPaginationPrev"}),Ue=N({...Fe,props:qe,emits:De,setup(e){const s=e,{t:i}=W(),b=$(()=>s.disabled||s.currentPage<=1);return(u,l)=>(v(),S("button",{type:"button",class:"btn-prev",disabled:a(b),"aria-label":u.prevText||a(i)("el.pagination.prev"),"aria-disabled":a(b),onClick:l[0]||(l[0]=c=>u.$emit("click",c))},[u.prevText?(v(),S("span",je,j(u.prevText),1)):(v(),I(a(le),{key:1},{default:w(()=>[(v(),I(ne(u.prevIcon)))]),_:1}))],8,Ke))}});var Ve=J(Ue,[["__file","prev.vue"]]);const We=V({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:X}}),Oe=["disabled","aria-label","aria-disabled"],Re={key:0},Je=N({name:"ElPaginationNext"}),He=N({...Je,props:We,emits:["click"],setup(e){const s=e,{t:i}=W(),b=$(()=>s.disabled||s.currentPage===s.pageCount||s.pageCount===0);return(u,l)=>(v(),S("button",{type:"button",class:"btn-next",disabled:a(b),"aria-label":u.nextText||a(i)("el.pagination.next"),"aria-disabled":a(b),onClick:l[0]||(l[0]=c=>u.$emit("click",c))},[u.nextText?(v(),S("span",Re,j(u.nextText),1)):(v(),I(a(le),{key:1},{default:w(()=>[(v(),I(ne(u.nextIcon)))]),_:1}))],8,Oe))}});var Ge=J(He,[["__file","next.vue"]]);const Z=()=>ze(ue,{}),Qe=V({pageSize:{type:Number,required:!0},pageSizes:{type:se(Array),default:()=>oe([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:re}}),Xe=N({name:"ElPaginationSizes"}),Ye=N({...Xe,props:Qe,emits:["page-size-change"],setup(e,{emit:s}){const i=e,{t:b}=W(),u=R("pagination"),l=Z(),c=B(i.pageSize);Q(()=>i.pageSizes,(f,z)=>{if(!ge(f,z)&&Array.isArray(f)){const g=f.includes(i.pageSize)?i.pageSize:i.pageSizes[0];s("page-size-change",g)}}),Q(()=>i.pageSize,f=>{c.value=f});const y=$(()=>i.pageSizes);function A(f){var z;f!==c.value&&(c.value=f,(z=l.handleSizeChange)==null||z.call(l,Number(f)))}return(f,z)=>(v(),S("span",{class:T(a(u).e("sizes"))},[m(a(ve),{"model-value":c.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:A},{default:w(()=>[(v(!0),S(Y,null,ie(a(y),g=>(v(),I(a(fe),{key:g,value:g,label:g+a(b)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Ze=J(Ye,[["__file","sizes.vue"]]);const ea=V({size:{type:String,values:re}}),aa=["disabled"],ta=N({name:"ElPaginationJumper"}),na=N({...ta,props:ea,setup(e){const{t:s}=W(),i=R("pagination"),{pageCount:b,disabled:u,currentPage:l,changeEvent:c}=Z(),y=B(),A=$(()=>{var g;return(g=y.value)!=null?g:l==null?void 0:l.value});function f(g){y.value=g?+g:""}function z(g){g=Math.trunc(+g),c==null||c(g),y.value=void 0}return(g,x)=>(v(),S("span",{class:T(a(i).e("jump")),disabled:a(u)},[ee("span",{class:T([a(i).e("goto")])},j(a(s)("el.pagination.goto")),3),m(a(pe),{size:g.size,class:T([a(i).e("editor"),a(i).is("in-pagination")]),min:1,max:a(b),disabled:a(u),"model-value":a(A),"validate-event":!1,label:a(s)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:z},null,8,["size","class","max","disabled","model-value","label"]),ee("span",{class:T([a(i).e("classifier")])},j(a(s)("el.pagination.pageClassifier")),3)],10,aa))}});var ia=J(na,[["__file","jumper.vue"]]);const la=V({total:{type:Number,default:1e3}}),sa=["disabled"],oa=N({name:"ElPaginationTotal"}),ra=N({...oa,props:la,setup(e){const{t:s}=W(),i=R("pagination"),{disabled:b}=Z();return(u,l)=>(v(),S("span",{class:T(a(i).e("total")),disabled:a(b)},j(a(s)("el.pagination.total",{total:u.total})),11,sa))}});var ua=J(ra,[["__file","total.vue"]]);const ca=V({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),da=["onKeyup"],pa=["aria-current","aria-label","tabindex"],ga=["tabindex","aria-label"],fa=["aria-current","aria-label","tabindex"],va=["tabindex","aria-label"],ba=["aria-current","aria-label","tabindex"],ma=N({name:"ElPaginationPager"}),Ca=N({...ma,props:ca,emits:["change"],setup(e,{emit:s}){const i=e,b=R("pager"),u=R("icon"),{t:l}=W(),c=B(!1),y=B(!1),A=B(!1),f=B(!1),z=B(!1),g=B(!1),x=$(()=>{const t=i.pagerCount,o=(t-1)/2,n=Number(i.currentPage),E=Number(i.pageCount);let M=!1,L=!1;E>t&&(n>t-o&&(M=!0),n<E-o&&(L=!0));const q=[];if(M&&!L){const P=E-(t-2);for(let U=P;U<E;U++)q.push(U)}else if(!M&&L)for(let P=2;P<t;P++)q.push(P);else if(M&&L){const P=Math.floor(t/2)-1;for(let U=n-P;U<=n+P;U++)q.push(U)}else for(let P=2;P<E;P++)q.push(P);return q}),h=$(()=>["more","btn-quickprev",u.b(),b.is("disabled",i.disabled)]),O=$(()=>["more","btn-quicknext",u.b(),b.is("disabled",i.disabled)]),d=$(()=>i.disabled?-1:0);Se(()=>{const t=(i.pagerCount-1)/2;c.value=!1,y.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-t&&(c.value=!0),i.currentPage<i.pageCount-t&&(y.value=!0))});function p(t=!1){i.disabled||(t?A.value=!0:f.value=!0)}function C(t=!1){t?z.value=!0:g.value=!0}function _(t){const o=t.target;if(o.tagName.toLowerCase()==="li"&&Array.from(o.classList).includes("number")){const n=Number(o.textContent);n!==i.currentPage&&s("change",n)}else o.tagName.toLowerCase()==="li"&&Array.from(o.classList).includes("more")&&r(t)}function r(t){const o=t.target;if(o.tagName.toLowerCase()==="ul"||i.disabled)return;let n=Number(o.textContent);const E=i.pageCount,M=i.currentPage,L=i.pagerCount-2;o.className.includes("more")&&(o.className.includes("quickprev")?n=M-L:o.className.includes("quicknext")&&(n=M+L)),Number.isNaN(+n)||(n<1&&(n=1),n>E&&(n=E)),n!==M&&s("change",n)}return(t,o)=>(v(),S("ul",{class:T(a(b).b()),onClick:r,onKeyup:ke(_,["enter"])},[t.pageCount>0?(v(),S("li",{key:0,class:T([[a(b).is("active",t.currentPage===1),a(b).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===1,"aria-label":a(l)("el.pagination.currentPage",{pager:1}),tabindex:a(d)}," 1 ",10,pa)):G("v-if",!0),c.value?(v(),S("li",{key:1,class:T(a(h)),tabindex:a(d),"aria-label":a(l)("el.pagination.prevPages",{pager:t.pagerCount-2}),onMouseenter:o[0]||(o[0]=n=>p(!0)),onMouseleave:o[1]||(o[1]=n=>A.value=!1),onFocus:o[2]||(o[2]=n=>C(!0)),onBlur:o[3]||(o[3]=n=>z.value=!1)},[(A.value||z.value)&&!t.disabled?(v(),I(a(Ae),{key:0})):(v(),I(a(ae),{key:1}))],42,ga)):G("v-if",!0),(v(!0),S(Y,null,ie(a(x),n=>(v(),S("li",{key:n,class:T([[a(b).is("active",t.currentPage===n),a(b).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===n,"aria-label":a(l)("el.pagination.currentPage",{pager:n}),tabindex:a(d)},j(n),11,fa))),128)),y.value?(v(),S("li",{key:2,class:T(a(O)),tabindex:a(d),"aria-label":a(l)("el.pagination.nextPages",{pager:t.pagerCount-2}),onMouseenter:o[4]||(o[4]=n=>p()),onMouseleave:o[5]||(o[5]=n=>f.value=!1),onFocus:o[6]||(o[6]=n=>C()),onBlur:o[7]||(o[7]=n=>g.value=!1)},[(f.value||g.value)&&!t.disabled?(v(),I(a(Te),{key:0})):(v(),I(a(ae),{key:1}))],42,va)):G("v-if",!0),t.pageCount>1?(v(),S("li",{key:3,class:T([[a(b).is("active",t.currentPage===t.pageCount),a(b).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===t.pageCount,"aria-label":a(l)("el.pagination.currentPage",{pager:t.pageCount}),tabindex:a(d)},j(t.pageCount),11,ba)):G("v-if",!0)],42,da))}});var _a=J(Ca,[["__file","pager.vue"]]);const k=e=>typeof e!="number",ha=V({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>K(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:se(Array),default:()=>oe([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:X,default:()=>Me},nextText:{type:String,default:""},nextIcon:{type:X,default:()=>Be},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Pa={"update:current-page":e=>K(e),"update:page-size":e=>K(e),"size-change":e=>K(e),change:(e,s)=>K(e)&&K(s),"current-change":e=>K(e),"prev-click":e=>K(e),"next-click":e=>K(e)},te="ElPagination";var ya=N({name:te,props:ha,emits:Pa,setup(e,{emit:s,slots:i}){const{t:b}=W(),u=R("pagination"),l=we().vnode.props||{},c="onUpdate:currentPage"in l||"onUpdate:current-page"in l||"onCurrentChange"in l,y="onUpdate:pageSize"in l||"onUpdate:page-size"in l||"onSizeChange"in l,A=$(()=>{if(k(e.total)&&k(e.pageCount)||!k(e.currentPage)&&!c)return!1;if(e.layout.includes("sizes")){if(k(e.pageCount)){if(!k(e.total)&&!k(e.pageSize)&&!y)return!1}else if(!y)return!1}return!0}),f=B(k(e.defaultPageSize)?10:e.defaultPageSize),z=B(k(e.defaultCurrentPage)?1:e.defaultCurrentPage),g=$({get(){return k(e.pageSize)?f.value:e.pageSize},set(r){k(e.pageSize)&&(f.value=r),y&&(s("update:page-size",r),s("size-change",r))}}),x=$(()=>{let r=0;return k(e.pageCount)?k(e.total)||(r=Math.max(1,Math.ceil(e.total/g.value))):r=e.pageCount,r}),h=$({get(){return k(e.currentPage)?z.value:e.currentPage},set(r){let t=r;r<1?t=1:r>x.value&&(t=x.value),k(e.currentPage)&&(z.value=t),c&&(s("update:current-page",t),s("current-change",t))}});Q(x,r=>{h.value>r&&(h.value=r)}),Q([h,g],r=>{s("change",...r)},{flush:"post"});function O(r){h.value=r}function d(r){g.value=r;const t=x.value;h.value>t&&(h.value=t)}function p(){e.disabled||(h.value-=1,s("prev-click",h.value))}function C(){e.disabled||(h.value+=1,s("next-click",h.value))}function _(r,t){r&&(r.props||(r.props={}),r.props.class=[r.props.class,t].join(" "))}return Ne(ue,{pageCount:x,disabled:$(()=>e.disabled),currentPage:h,changeEvent:O,handleSizeChange:d}),()=>{var r,t;if(!A.value)return ce(te,b("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&x.value<=1)return null;const o=[],n=[],E=F("div",{class:u.e("rightwrapper")},n),M={prev:F(Ve,{disabled:e.disabled,currentPage:h.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:p}),jumper:F(ia,{size:e.small?"small":"default"}),pager:F(_a,{currentPage:h.value,pageCount:x.value,pagerCount:e.pagerCount,onChange:O,disabled:e.disabled}),next:F(Ge,{disabled:e.disabled,currentPage:h.value,pageCount:x.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:C}),sizes:F(Ze,{pageSize:g.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:e.small?"small":"default"}),slot:(t=(r=i==null?void 0:i.default)==null?void 0:r.call(i))!=null?t:null,total:F(ua,{total:k(e.total)?0:e.total})},L=e.layout.split(",").map(P=>P.trim());let q=!1;return L.forEach(P=>{if(P==="->"){q=!0;return}q?n.push(M[P]):o.push(M[P])}),_(o[0],u.is("first")),_(o[o.length-1],u.is("last")),q&&n.length>0&&(_(n[0],u.is("first")),_(n[n.length-1],u.is("last")),o.push(E)),F("div",{class:[u.b(),u.is("background",e.background),{[u.m("small")]:e.small}]},o)}}});const za=Ie(ya),Sa=N({__name:"AccountList",setup(e){const s=ye(),{currentPage:i,pageSize:b,accountList:u,accountLoading:l,selectAccounts:c}=xe(s),y=async(d,p,C=!0)=>{C&&(l.value=!0);const _=await _e({account_id:d})??"failed";C&&(l.value=!1),_.toString()!=="failed"&&(C&&await s.getAccounts(),H.success(`成功${p===0?"启用":"禁用"}`))},A=async(d,p=!0)=>{p&&(l.value=!0);const C=await he({account_id:d})??"failed";p&&(l.value=!1),C.toString()!=="failed"&&(p&&await s.getAccounts(),H.success("更新账户信息成功"))},f=async(d,p=!1)=>{p&&(l.value=!0);const C=await Pe({account_id:d})??"failed";p&&(l.value=!1),C.toString()!=="failed"&&(p&&await s.getAccounts(),H.success("删除账户成功"))},z=d=>c.value=d,g=async()=>{l.value=!0;for(let d=0;d<c.value.length;d++){const p=c.value[d];if(p.switch===1){H.warning(`编号:${p.id},已经启用了`);continue}await y(p.id,p.switch,!1)}await s.getAccounts(!1),l.value=!1},x=async()=>{l.value=!0;for(let d=0;d<c.value.length;d++){const p=c.value[d];if(p.switch===0){H.warning(`编号:${p.id},已经禁用了`);continue}await y(p.id,p.switch,!1)}await s.getAccounts(!1),l.value=!1},h=async()=>{l.value=!0;for(let d=0;d<c.value.length;d++){const p=c.value[d];await f(p.id,!1)}await s.getAccounts(!1),l.value=!1},O=async()=>{l.value=!0;for(let d=0;d<c.value.length;d++){const p=c.value[d];await A(p.id,!1)}await s.getAccounts(!1),l.value=!1};return Ee(s.getAccounts),(d,p)=>{const C=Ce,_=be,r=me,t=za,o=de;return v(),S(Y,null,[m(C,{type:"primary",onClick:a(s).openAddDialog},{default:w(()=>[D(" 添加代理账号 ")]),_:1},8,["onClick"]),m(C,{type:"primary",disabled:a(c).length<=0,onClick:g},{default:w(()=>[D(" 批量启用 ")]),_:1},8,["disabled"]),m(C,{type:"danger",disabled:a(c).length<=0,onClick:x},{default:w(()=>[D(" 批量禁用 ")]),_:1},8,["disabled"]),m(C,{type:"primary",disabled:a(c).length<=0,onClick:O},{default:w(()=>[D(" 批量更新 ")]),_:1},8,["disabled"]),m(C,{type:"danger",disabled:a(c).length<=0,onClick:h},{default:w(()=>[D(" 批量删除 ")]),_:1},8,["disabled"]),$e((v(),I(r,{data:a(u).data,border:"","show-overflow-tooltip":"",class:"table",onSelectionChange:z},{default:w(()=>[m(_,{type:"selection",width:"40"}),m(_,{prop:"id",label:"编号"}),m(_,{prop:"baidu_name",label:"百度用户名"}),m(_,{prop:"netdisk_name",label:"网盘用户名"}),m(_,{prop:"state",label:"状态"}),m(_,{prop:"add_time",label:"添加时间"}),m(_,{prop:"svip_end_time",label:"SVIP到期时间"}),m(_,{prop:"use",label:"最后有效时间"}),m(_,{prop:"vip_type",label:"会员类型"}),m(_,{prop:"cookie",label:"cookie值"}),m(_,{prop:"switch",label:"是否启用"},{default:w(n=>[D(j(n.row.switch===0?"禁用":"启用"),1)]),_:1}),m(_,{label:"操作",width:"220"},{default:w(n=>[m(C,{size:"small",type:"primary",onClick:E=>A(n.row.id)},{default:w(()=>[D(" 更新信息 ")]),_:2},1032,["onClick"]),m(C,{size:"small",type:n.row.switch===0?"success":"info",onClick:E=>y(n.row.id,n.row.switch)},{default:w(()=>[D(j(n.row.switch===0?"启用":"禁用"),1)]),_:2},1032,["type","onClick"]),m(C,{size:"small",type:"danger",onClick:E=>f(n.row.id)},{default:w(()=>[D(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[o,a(l)]]),m(t,{"current-page":a(i),"page-size":a(b),total:a(u).total,"hide-on-single-page":"",onCurrentChange:a(s).getAccounts},null,8,["current-page","page-size","total","onCurrentChange"])],64)}}}),Ua=Le(Sa,[["__scopeId","data-v-9c9438c1"]]);export{Ua as default};
